#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš§ Running quality check pipeline..."

echo "1ï¸âƒ£  Running Linter & Formatter Check (Biome)..."
bunx biome ci ./src
if [ $? -ne 0 ]; then
  echo "âŒ Linting/Formatting failed! Please fix errors before committing."
  exit 1
fi

echo "2ï¸âƒ£  Running Unit Tests..."
bun run test:cov
if [ $? -ne 0 ]; then
  echo "âŒ Tests failed! Please fix tests before committing."
  exit 1
fi

echo "âœ… Quality check passed! Committing changes..."
